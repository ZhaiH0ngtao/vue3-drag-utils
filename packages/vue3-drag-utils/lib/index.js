"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue");function ie(t,e,r){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,r),r):(t[e]=r,r)}var xe=Symbol("DndContextType");function Je(t){s.provide(xe,t)}function Ze(){return s.inject(xe)}var b;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(b||(b={}));function g(t,e,...r){if(et()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function et(){return typeof process<"u"&&process.env.NODE_ENV==="production"}const Q="dnd-core/INIT_COORDS",A="dnd-core/BEGIN_DRAG",K="dnd-core/PUBLISH_DRAG_SOURCE",k="dnd-core/HOVER",L="dnd-core/DROP",H="dnd-core/END_DRAG";function oe(t,e){return{type:Q,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function tt(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function rt(t,e){return t.filter(r=>r!==e)}function Re(t){return typeof t=="object"}function nt(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,a)=>{o===1&&i.push(a)}),i}function it(t,e){return t.filter(r=>e.indexOf(r)>-1)}const ot={type:Q,payload:{clientOffset:null,sourceClientOffset:null}};function st(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:a}=n,u=t.getMonitor(),l=t.getRegistry();t.dispatch(oe(o)),at(r,u,l);const d=lt(r,u);if(d==null){t.dispatch(ot);return}let p=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");ut(a),p=a(d)}t.dispatch(oe(o,p));const h=l.getSource(d).beginDrag(u,d);if(h==null)return;ct(h),l.pinSource(d);const c=l.getSourceType(d);return{type:A,payload:{itemType:c,item:h,sourceId:d,clientOffset:o||null,sourceClientOffset:p||null,isSourcePublic:!!i}}}}function at(t,e,r){g(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){g(r.getSource(n),"Expected sourceIds to be registered.")})}function ut(t){g(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ct(t){g(Re(t),"Item must be an object.")}function lt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function dt(t){return function(){if(t.getMonitor().isDragging())return{type:K}}}function W(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function ft(t){return function(r,{clientOffset:n}={}){gt(r);const i=r.slice(0),o=t.getMonitor(),a=t.getRegistry();ht(i,o,a);const u=o.getItemType();return pt(i,a,u),vt(i,o,a),{type:k,payload:{targetIds:i,clientOffset:n||null}}}}function gt(t){g(Array.isArray(t),"Expected targetIds to be an array.")}function ht(t,e,r){g(e.isDragging(),"Cannot call hover while not dragging."),g(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];g(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);g(o,"Expected targetIds to be registered.")}}function pt(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);W(o,r)||t.splice(n,1)}}function vt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){mt(t,i,r[i])})}return t}function Dt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Ot(n),bt(n).forEach((a,u)=>{const l=St(a,u,i,n),d={type:L,payload:{dropResult:yt({},r,l)}};t.dispatch(d)})}}function Ot(t){g(t.isDragging(),"Cannot call drop while not dragging."),g(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function St(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return Tt(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Tt(t){g(typeof t>"u"||Re(t),"Drop result must either be an object or undefined.")}function bt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function It(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Et(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:H}}}function Et(t){g(t.isDragging(),"Cannot call endDrag while not dragging.")}function wt(t){return{beginDrag:st(t),publishDragSource:dt(t),hover:ft(t),drop:Dt(t),endDrag:It(t)}}class Ct{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...a)=>{const u=o.apply(e,a);typeof u<"u"&&r(u)}}const i=wt(this);return Object.keys(i).reduce((o,a)=>{const u=i[a];return o[a]=n(u),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function T(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var se=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),U=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function _t(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Nt(t){if(t===void 0)return"undefined";if(t===null)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(Rt(t))return"date";if(xt(t))return"error";var r=Pt(t);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Pt(t){return typeof t.constructor=="function"?t.constructor.name:null}function xt(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function Rt(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function E(t){var e=typeof t;return process.env.NODE_ENV!=="production"&&(e=Nt(t)),e}function Me(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(process.env.NODE_ENV==="production"?T(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(process.env.NODE_ENV==="production"?T(1):"Expected the enhancer to be a function. Instead, received: '"+E(r)+"'");return r(Me)(t,e)}if(typeof t!="function")throw new Error(process.env.NODE_ENV==="production"?T(2):"Expected the root reducer to be a function. Instead, received: '"+E(t)+"'");var i=t,o=e,a=[],u=a,l=!1;function d(){u===a&&(u=a.slice())}function p(){if(l)throw new Error(process.env.NODE_ENV==="production"?T(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function y(f){if(typeof f!="function")throw new Error(process.env.NODE_ENV==="production"?T(4):"Expected the listener to be a function. Instead, received: '"+E(f)+"'");if(l)throw new Error(process.env.NODE_ENV==="production"?T(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var v=!0;return d(),u.push(f),function(){if(v){if(l)throw new Error(process.env.NODE_ENV==="production"?T(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");v=!1,d();var S=u.indexOf(f);u.splice(S,1),a=null}}}function h(f){if(!_t(f))throw new Error(process.env.NODE_ENV==="production"?T(7):"Actions must be plain objects. Instead, the actual type was: '"+E(f)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(typeof f.type>"u")throw new Error(process.env.NODE_ENV==="production"?T(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(l)throw new Error(process.env.NODE_ENV==="production"?T(9):"Reducers may not dispatch actions.");try{l=!0,o=i(o,f)}finally{l=!1}for(var v=a=u,D=0;D<v.length;D++){var S=v[D];S()}return f}function c(f){if(typeof f!="function")throw new Error(process.env.NODE_ENV==="production"?T(10):"Expected the nextReducer to be a function. Instead, received: '"+E(f));i=f,h({type:ae.REPLACE})}function m(){var f,v=y;return f={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(process.env.NODE_ENV==="production"?T(11):"Expected the observer to be an object. Instead, received: '"+E(S)+"'");function I(){S.next&&S.next(p())}I();var $=v(I);return{unsubscribe:$}}},f[se]=function(){return this},f}return h({type:ae.INIT}),n={dispatch:h,subscribe:y,getState:p,replaceReducer:c},n[se]=m,n}const Mt=(t,e)=>t===e;function At(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function kt(t,e,r=Mt){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function Lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Lt(t,i,r[i])})}return t}const ue={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function jt(t=ue,e){const{payload:r}=e;switch(e.type){case Q:case A:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case k:return At(t.clientOffset,r.clientOffset)?t:Ht({},t,{clientOffset:r.clientOffset});case H:case L:return ue;default:return t}}const J="dnd-core/ADD_SOURCE",Z="dnd-core/ADD_TARGET",ee="dnd-core/REMOVE_SOURCE",j="dnd-core/REMOVE_TARGET";function $t(t){return{type:J,payload:{sourceId:t}}}function Ut(t){return{type:Z,payload:{targetId:t}}}function Ft(t){return{type:ee,payload:{sourceId:t}}}function Vt(t){return{type:j,payload:{targetId:t}}}function Bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Bt(t,i,r[i])})}return t}const qt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Gt(t=qt,e){const{payload:r}=e;switch(e.type){case A:return w({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case K:return w({},t,{isSourcePublic:!0});case k:return w({},t,{targetIds:r.targetIds});case j:return t.targetIds.indexOf(r.targetId)===-1?t:w({},t,{targetIds:rt(t.targetIds,r.targetId)});case L:return w({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case H:return w({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Wt(t=0,e){switch(e.type){case J:case Z:return t+1;case ee:case j:return t-1;default:return t}}const _=[],te=[];_.__IS_NONE__=!0;te.__IS_ALL__=!0;function Yt(t,e){return t===_?!1:t===te||typeof e>"u"?!0:it(e,t).length>0}function Xt(t=_,e){switch(e.type){case k:break;case J:case Z:case j:case ee:return _;case A:case K:case H:case L:default:return te}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=nt(r,n);if(!(i.length>0||!kt(r,n)))return _;const a=n[n.length-1],u=r[r.length-1];return a!==u&&(a&&i.push(a),u&&i.push(u)),i}function zt(t=0){return t+1}function Qt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Qt(t,i,r[i])})}return t}function Jt(t={},e){return{dirtyHandlerIds:Xt(t.dirtyHandlerIds,{type:e.type,payload:Kt({},e.payload,{prevTargetIds:tt(t,"dragOperation.targetIds",[])})}),dragOffset:jt(t.dragOffset,e),refCount:Wt(t.refCount,e),dragOperation:Gt(t.dragOperation,e),stateId:zt(t.stateId)}}function Zt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ae(t,e){return{x:t.x-e.x,y:t.y-e.y}}function er(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Ae(Zt(e,n),r)}function tr(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Ae(e,r)}class rr{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;g(typeof e=="function","listener must be a function."),g(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const a=this.store.getState(),u=a.stateId;try{u===i||u===i+1&&!Yt(a.dirtyHandlerIds,n)||e()}finally{i=u}};return this.store.subscribe(o)}subscribeToOffsetChange(e){g(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return g(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(g(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return W(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(g(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!W(i,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const u=a.indexOf(e);return n?u===a.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return er(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tr(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}let nr=0;function ir(){return nr++}function or(t){g(typeof t.canDrag=="function","Expected canDrag to be a function."),g(typeof t.beginDrag=="function","Expected beginDrag to be a function."),g(typeof t.endDrag=="function","Expected endDrag to be a function.")}function sr(t){g(typeof t.canDrop=="function","Expected canDrop to be a function."),g(typeof t.hover=="function","Expected hover to be a function."),g(typeof t.drop=="function","Expected beginDrag to be a function.")}function Y(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Y(r,!1));return}g(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const ce=typeof global<"u"?global:self,ke=ce.MutationObserver||ce.WebKitMutationObserver;function Le(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function ar(t){let e=1;const r=new ke(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const ur=typeof ke=="function"?ar:Le;class cr{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ur(this.flush),this.requestErrorThrow=Le(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class lr{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class dr{create(e){const r=this.freeTasks,n=r.length?r.pop():new lr(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const He=new cr,fr=new dr(He.registerPendingError);function gr(t){He.enqueueTask(fr.create(t))}function hr(t){const e=ir().toString();switch(t){case b.SOURCE:return`S${e}`;case b.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function le(t){switch(t[0]){case"S":return b.SOURCE;case"T":return b.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function de(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class pr{addSource(e,r){Y(e),or(r);const n=this.addHandler(b.SOURCE,e,r);return this.store.dispatch($t(n)),n}addTarget(e,r){Y(e,!0),sr(r);const n=this.addHandler(b.TARGET,e,r);return this.store.dispatch(Ut(n)),n}containsHandler(e){return de(this.dragSources,e)||de(this.dropTargets,e)}getSource(e,r=!1){return g(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return g(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return le(e)===b.SOURCE}isTargetId(e){return le(e)===b.TARGET}removeSource(e){g(this.getSource(e),"Expected an existing source."),this.store.dispatch(Ft(e)),gr(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){g(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Vt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);g(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){g(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=hr(e);return this.types.set(i,r),e===b.SOURCE?this.dragSources.set(i,n):e===b.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}function vr(t,e=void 0,r={},n=!1){const i=mr(n),o=new rr(i,new pr(i)),a=new Ct(i,o),u=t(a,e,r);return a.receiveBackend(u),a}function mr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Me(Jt,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function fe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yr(t){if(Array.isArray(t))return t}function Dr(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,u;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,u=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function Or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sr(t,e){return yr(t)||Dr(t,e)||Tr(t,e)||Or()}function Tr(t,e){if(t){if(typeof t=="string")return fe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(t,e)}}var ge=0,M=Symbol.for("__VUE_DND_CONTEXT_INSTANCE__");function br(t){return"manager"in t&&t.manager}function Ir(t){if(br(t)){var e=t.manager;return[e,!1]}var r=Er(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function Er(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:je(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=e;return i[M]||(i[M]=vr(t,e,r,n)),i[M]}function je(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:window}const wr=s.defineComponent({name:"DndProvider",props:{manager:{type:Object},backend:{type:Function},context:{type:Object},options:{type:Object},debugMode:{type:Boolean}},setup:function(e,r){var n=r.slots,i=Sr(Ir(e),2),o=i[0],a=i[1];a&&++ge,s.onUnmounted(function(){if(a){var l=je();--ge===0&&(l[M]=null)}}),Je(o);var u;return function(){var l;return(u=(l=n.default)===null||l===void 0?void 0:l.call(n))!==null&&u!==void 0?u:null}}});s.defineComponent({props:{connect:{type:Function,required:!0},src:{type:String,required:!0}},setup:function(e){return s.watchEffect(function(){if(!(typeof Image>"u")){var r=!1,n=new Image;return n.src=e.src,n.onload=function(){e.connect(n),r=!0},function(){r&&e.connect(null)}}}),function(){return null}}});function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var F=!1,V=!1,_r=function(){function t(r){Cr(this,t),this.sourceId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.sourceId=n},e.getHandlerId=function(){return this.sourceId},e.canDrag=function(){g(!F,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return F=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{F=!1}},e.isDragging=function(){if(!this.sourceId)return!1;g(!V,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return V=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{V=!1}},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.isDraggingSource=function(n){return this.internalMonitor.isDraggingSource(n)},e.isOverTarget=function(n,i){return this.internalMonitor.isOverTarget(n,i)},e.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.getSourceId=function(){return this.internalMonitor.getSourceId()},e.subscribeToOffsetChange=function(n){return this.internalMonitor.subscribeToOffsetChange(n)},e.canDragSource=function(n){return this.internalMonitor.canDragSource(n)},e.canDropOnTarget=function(n){return this.internalMonitor.canDropOnTarget(n)},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}();function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var B=!1,Pr=function(){function t(r){Nr(this,t),this.targetId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.targetId=n},e.getHandlerId=function(){return this.targetId},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.canDrop=function(){if(!this.targetId)return!1;g(!B,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return B=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{B=!1}},e.isOver=function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}(),xr=function(t){return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t};function Rr(t){return t?t.__v_isVNode===!0:!1}function Mr(t){return t?t.__v_skip:!1}function Ar(t){return Rr(t)&&xr(t.type)!=="symbol"}function kr(){throw new Error("Only native element nodes can now be passed to Vue DnD connectors.You can either wrap Component into a <div>, or turn it into a drag source or a drop target itself.")}function Lr(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Mr(e)&&kr(),!Ar(e)){var n=e;return t(n,r),n}}}function $e(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var i=Lr(n);e[r]=function(){return i}}}),e}function X(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const d=o[l];if(!u(d))return!1;const p=t[d],y=e[d];if(i=r?r.call(n,p,y,d):void 0,i===!1||i===void 0&&p!==y)return!1}return!0}function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jr(t,e,r){return e&&he(t.prototype,e),r&&he(t,r),t}var $r=function(){function t(r){var n=this;Hr(this,t),this.hooks=$e({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,n.dragPreviewNode=i,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceOptionsInternal=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}var e=t.prototype;return e.receiveHandlerId=function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())},e.reconnect=function(){var n=this.reconnectDragSource();this.reconnectDragPreview(n)},e.reconnectDragSource=function(){var n=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?n?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),i):(this.lastConnectedDragSource=n,i):i},e.reconnectDragPreview=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.dragPreview,o=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.didDragSourceOptionsChange=function(){return!X(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.didDragPreviewOptionsChange=function(){return!X(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)},e.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null)},e.clearDragSource=function(){this.dragSourceNode=null},e.clearDragPreview=function(){this.dragPreviewNode=null},jr(t,[{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"dragSource",get:function(){return this.dragSourceNode}},{key:"dragPreview",get:function(){return this.dragPreviewNode}}]),t}();function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fr(t,e,r){return e&&pe(t.prototype,e),r&&pe(t,r),t}var Vr=function(){function t(r){var n=this;Ur(this,t),this.hooks=$e({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,s.isRef(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}var e=t.prototype;return e.reconnect=function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}},e.receiveHandlerId=function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.didOptionsChange=function(){return!X(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},e.clearDropTarget=function(){this.dropTargetRef=null,this.dropTargetNode=null},Fr(t,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.value}}]),t}();function Br(t,e,r){var n=s.unref(r).getRegistry(),i=n.addTarget(s.unref(t),s.unref(e));return[i,function(){return n.removeTarget(i)}]}function qr(t,e,r){var n=r.getRegistry(),i=n.addSource(t,e);return[i,function(){return n.removeSource(i)}]}function Gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Wr=function(){function t(r,n,i){Gr(this,t),this.spec=r,this.monitor=n,this.connector=i}var e=t.prototype;return e.beginDrag=function(){var n=this.spec,i=this.monitor,o=null;return typeof n.item=="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},o??null},e.canDrag=function(){var n=this.spec,i=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(i):!0},e.isDragging=function(n,i){var o=this.spec,a=this.monitor,u=o.isDragging;return u?u(a):i===n.getSourceId()},e.endDrag=function(){var n=this.spec,i=this.monitor,o=this.connector,a=n.end;a&&a(i.getItem(),i),o.reconnect()},t}();function Yr(t,e,r){var n=s.computed(function(){return new Wr(s.unref(t),s.unref(e),s.unref(r))});return s.watchEffect(function(){n.value.spec=s.unref(t)}),n}function C(){var t=Ze();return g(t!=null,"Expected drag drop context"),t}function Xr(t){return s.computed(function(){var e=s.unref(t).type;return g(e!=null,"spec.type must be defined"),e})}function ve(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zr(t){if(Array.isArray(t))return t}function Qr(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,u;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,u=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function Kr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jr(t,e){return zr(t)||Qr(t,e)||Zr(t,e)||Kr()}function Zr(t,e){if(t){if(typeof t=="string")return ve(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(t,e)}}function en(t,e,r){var n=C(),i=Yr(t,e,r),o=Xr(t);s.watchEffect(function(u){if(s.unref(o)!=null){var l=Jr(qr(s.unref(o),s.unref(i),s.unref(n)),2),d=l[0],p=l[1];s.unref(e).receiveHandlerId(d),s.unref(r).receiveHandlerId(d),u(p)}})}function Ue(t){return s.computed(function(){return typeof t=="function"?t():t})}function tn(){var t=C();return s.computed(function(){return new _r(s.unref(t))})}function rn(t,e){var r=C(),n=s.computed(function(){return new $r(s.unref(r).getBackend())});return s.watchEffect(function(i){n.value.dragSourceOptions=s.unref(t)||null,s.unref(n).reconnect(),i(function(){n.value.disconnectDragSource()})}),s.watchEffect(function(i){n.value.dragPreviewOptions=s.unref(e)||null,s.unref(n).reconnect(),i(function(){n.value.disconnectDragPreview()})}),n}var Fe=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r};function nn(t,e,r){var n=s.ref(s.unref(e)(s.unref(t))),i=function(){var o=s.unref(e)(s.unref(t));Fe(n,o)||(n.value=o,r&&r())};return s.watchEffect(i),[n,i]}function me(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function on(t){if(Array.isArray(t))return t}function sn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,u;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,u=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function an(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function un(t,e){return on(t)||sn(t,e)||cn(t,e)||an()}function cn(t,e){if(t){if(typeof t=="string")return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(t,e)}}function ln(t,e,r){var n=un(nn(t,e,r),2),i=n[0],o=n[1];return s.watchEffect(function(u){var l=s.unref(t).getHandlerId();l!=null&&u(s.unref(t).subscribeToStateChange(o,{handlerIds:[l]}))}),i}function Ve(t,e,r){var n=function(){return{}};return ln(e,t||n,function(){return s.unref(r).reconnect()})}function re(t,e){var r=s.reactive({el:null,options:s.unref(e)});s.watchEffect(function(){t(r)},{flush:"post"});var n=function(i,o){ie(r,"el",i);var a=s.unref(e)||o;return Fe(r.options,a)||ie(r,"options",a),s.unref(i)};return n}function dn(t,e){return re(function(r){s.unref(t).hooks.dragSource()(r.el,r.options)},s.computed(function(){return s.unref(e).options}))}function fn(t,e){return re(function(r){s.unref(t).hooks.dragPreview()(r.el,r.options)},s.computed(function(){return s.unref(e).previewOptions}))}function gn(t){var e=Ue(t),r=tn(),n=rn(s.computed(function(){return s.unref(e).options}),s.computed(function(){return s.unref(e).previewOptions}));return en(e,r,n),[Ve(s.computed(function(){return s.unref(e).collect||function(){return{}}}),r,n),dn(n,e),fn(n,e)]}function hn(t){return s.computed(function(){var e=s.unref(t).accept;return g(e!=null,"accept must be defined"),Array.isArray(e)?e:[e]})}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var vn=function(){function t(r,n){pn(this,t),this.spec=r,this.monitor=n}var e=t.prototype;return e.canDrop=function(){var n=this.spec,i=this.monitor;return n.canDrop?n.canDrop(i.getItem(),i):!0},e.hover=function(){var n=this.spec,i=this.monitor;n.hover&&n.hover(i.getItem(),i)},e.drop=function(){var n=this.spec,i=this.monitor;if(n.drop)return n.drop(i.getItem(),i)},t}();function mn(t,e){var r=s.computed(function(){return new vn(s.unref(t),s.unref(e))});return s.watchEffect(function(){r.value.spec=s.unref(t)}),r}function ye(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yn(t){if(Array.isArray(t))return t}function Dn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,u;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,u=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function On(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(t,e){return yn(t)||Dn(t,e)||Tn(t,e)||On()}function Tn(t,e){if(t){if(typeof t=="string")return ye(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(t,e)}}function bn(t,e,r){var n=C(),i=mn(t,e),o=hn(t);s.watchEffect(function(u){var l=Sn(Br(o,i,n),2),d=l[0],p=l[1];s.unref(e).receiveHandlerId(d),s.unref(r).receiveHandlerId(d),u(p)})}function In(){var t=C();return s.computed(function(){return new Pr(s.unref(t))})}function En(t){var e=C(),r=s.computed(function(){return new Vr(s.unref(e).getBackend())});return s.watchEffect(function(n){r.value.dropTargetOptions=s.unref(t)||null,r.value.reconnect(),n(function(){return r.value.disconnectDropTarget()})}),r}function wn(t,e){return re(function(r){s.unref(t).hooks.dropTarget()(r.el,r.options)},s.computed(function(){return s.unref(e).options}))}function Cn(t){var e=Ue(t),r=In(),n=En(s.computed(function(){return s.unref(e).options}));return bn(e,r,n),[Ve(s.computed(function(){return s.unref(e).collect||function(){return{}}}),r,n),wn(n,e)]}function Be(t){let e=null;return()=>(e==null&&(e=t()),e)}function _n(t,e){return t.filter(r=>r!==e)}function Nn(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class Pn{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Nn(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=_n(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class xn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const qe="__NATIVE_FILE__",Ge="__NATIVE_URL__",We="__NATIVE_TEXT__",Ye="__NATIVE_HTML__",De=Object.freeze(Object.defineProperty({__proto__:null,FILE:qe,HTML:Ye,TEXT:We,URL:Ge},Symbol.toStringTag,{value:"Module"}));function q(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const z={[qe]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Ye]:{exposeProperties:{html:(t,e)=>q(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Ge]:{exposeProperties:{urls:(t,e)=>q(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[We]:{exposeProperties:{text:(t,e)=>q(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Rn(t,e){const r=z[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new xn(r);return n.loadDataTransfer(e),n}function G(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(z).filter(r=>{const n=z[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Mn=Be(()=>/firefox/i.test(navigator.userAgent)),Xe=Be(()=>!!window.safari);class Oe{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:a}=this;let u=r.length-1;if(e===r[u])return n[u];let l=0,d=a.length-1,p;for(;l<=d;){p=Math.floor(.5*(l+d));const c=r[p];if(c<e)l=p+1;else if(c>e)d=p-1;else return n[p]}u=Math.max(0,d);const y=e-r[u],h=y*y;return n[u]+i[u]*y+o[u]*h+a[u]*y*h}constructor(e,r){const{length:n}=e,i=[];for(let c=0;c<n;c++)i.push(c);i.sort((c,m)=>e[c]<e[m]?-1:1);const o=[],a=[];let u,l;for(let c=0;c<n-1;c++)u=e[c+1]-e[c],l=r[c+1]-r[c],o.push(u),a.push(l/u);const d=[a[0]];for(let c=0;c<o.length-1;c++){const m=a[c],f=a[c+1];if(m*f<=0)d.push(0);else{u=o[c];const v=o[c+1],D=u+v;d.push(3*D/((D+v)/m+(D+u)/f))}}d.push(a[a.length-1]);const p=[],y=[];let h;for(let c=0;c<d.length-1;c++){h=a[c];const m=d[c],f=1/o[c],v=m+d[c+1]-h-h;p.push((h-m-v)*f),y.push(v*f*f)}this.xs=e,this.ys=r,this.c1s=d,this.c2s=p,this.c3s=y}}const An=1;function ze(t){const e=t.nodeType===An?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function x(t){return{x:t.clientX,y:t.clientY}}function kn(t){var e;return t.nodeName==="IMG"&&(Mn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Ln(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return Xe()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Hn(t,e,r,n,i){const o=kn(e),u=ze(o?t:e),l={x:r.x-u.x,y:r.y-u.y},{offsetWidth:d,offsetHeight:p}=t,{anchorX:y,anchorY:h}=n,{dragPreviewWidth:c,dragPreviewHeight:m}=Ln(o,e,d,p),f=()=>{let ne=new Oe([0,.5,1],[l.y,l.y/p*m,l.y+m-p]).interpolate(h);return Xe()&&o&&(ne+=(window.devicePixelRatio-1)*m),ne},v=()=>new Oe([0,.5,1],[l.x,l.x/d*c,l.x+c-d]).interpolate(y),{offsetX:D,offsetY:S}=i,I=D===0||D,$=S===0||S;return{x:I?D:v(),y:$?S:f()}}class jn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function $n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){$n(t,i,r[i])})}return t}class Un{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=a=>this.handleDragStart(a,e),o=a=>this.handleSelectStart(a);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=a=>this.handleDragEnter(a,e),i=a=>this.handleDragOver(a,e),o=a=>this.handleDrop(a,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Se({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Se({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(De).some(r=>De[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Rn(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&ze(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const a=x(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:u}=i,l=G(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const p=this.monitor.getSourceId(),y=this.sourceNodes.get(p),h=this.sourcePreviewNodes.get(p)||y;if(h){const{anchorX:c,anchorY:m,offsetX:f,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),I=Hn(y,h,a,{anchorX:c,anchorY:m},{offsetX:f,offsetY:v});u.setDragImage(h,I.x,I.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(u&&!u.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:u}=i,l=G(u);l&&this.beginDragNativeItem(l,u)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:x(i)}),o.some(u=>this.monitor.canDropOnTarget(u))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=x(i),this.scheduleHover(o),(o||[]).some(u=>this.monitor.canDropOnTarget(u))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else G(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:x(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new jn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Pn(this.isNodeInDocument)}}const Fn=function(e,r,n){return new Un(e,r,n)},N=s.defineComponent({__name:"DndProvider",setup(t){return(e,r)=>(s.openBlock(),s.createBlock(s.unref(wr),{backend:s.unref(Fn)},{default:s.withCtx(()=>[s.renderSlot(e.$slots,"default")]),_:3},8,["backend"]))}});N.install=t=>{t.component(N.__name,N)};const Vn=s.defineComponent({__name:"DraggableItem",props:{index:null,data:null,dragEnd:null,dropMove:null},setup(t){const e=t,r=s.inject("uuid"),n=s.ref(s.inject("typeName")),i=s.ref(s.inject("acceptName")),o=s.ref(s.inject("canDrag",!0)),a=s.ref(s.inject("dropEffect")),[u,l]=gn(()=>({type:n.value,canDrag:()=>o.value,item:()=>({index:e.index,uuid:r,data:e.data}),options:{dropEffect:a.value},collect:c=>({canDrag:c.canDrag(),getItem:c.getItem(),getItemType:c.getItemType(),isDragging:c.isDragging()}),end:(c,m)=>{const f=m.didDrop(),v=m.getDropResult(),D=r===v.uuid;f&&v&&e.dragEnd({...c,isSelf:D})}})),[d,p]=Cn(()=>({accept:i.value,hover:(c,m)=>{},drop:(c,m)=>{const f=c.index,v=e.index,D=r===c.uuid;return e.dropMove(c.data,f,v,D),{...c,uuid:r}},collect:c=>({isOver:c.isOver(),canDrop:c.canDrop(),getItem:c.getItem(),getDropResult:c.getDropResult()})})),y=s.ref(),h=c=>{y.value=l(p(c))};return(c,m)=>s.withDirectives((s.openBlock(),s.createElementBlock("div",{class:"draggable-item",ref:h,key:t.index},[s.renderSlot(c.$slots,"default",{},void 0,!0)])),[[s.vShow,s.unref(a)==="copy"||s.unref(a)==="move"&&!s.unref(u).isDragging]])}});const Qe=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Bn=Qe(Vn,[["__scopeId","data-v-d1d9099d"]]);let R;const qn=new Uint8Array(16);function Gn(){if(!R&&(R=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(qn)}const O=[];for(let t=0;t<256;++t)O.push((t+256).toString(16).slice(1));function Wn(t,e=0){return(O[t[e+0]]+O[t[e+1]]+O[t[e+2]]+O[t[e+3]]+"-"+O[t[e+4]]+O[t[e+5]]+"-"+O[t[e+6]]+O[t[e+7]]+"-"+O[t[e+8]]+O[t[e+9]]+"-"+O[t[e+10]]+O[t[e+11]]+O[t[e+12]]+O[t[e+13]]+O[t[e+14]]+O[t[e+15]]).toLowerCase()}const Yn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Te={randomUUID:Yn};function Xn(t,e,r){if(Te.randomUUID&&!e&&!t)return Te.randomUUID();t=t||{};const n=t.random||(t.rng||Gn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Wn(n)}var be;const zn=typeof window<"u";zn&&((be=window==null?void 0:window.navigator)!=null&&be.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Qn(t){return t}var Kn=Object.defineProperty,Jn=Object.defineProperties,Zn=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,ei=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable,Ee=(t,e,r)=>e in t?Kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e)=>{for(var r in e||(e={}))ei.call(e,r)&&Ee(t,r,e[r]);if(Ie)for(var r of Ie(e))ti.call(e,r)&&Ee(t,r,e[r]);return t},ni=(t,e)=>Jn(t,Zn(e));function ii(t){return JSON.parse(JSON.stringify(t))}function oi(t,e={}){const r=s.ref({}),{manual:n,clone:i=ii,deep:o=!0,immediate:a=!0}=e;function u(){r.value=i(s.unref(t))}return!n&&s.isRef(t)?s.watch(t,u,ni(ri({},e),{deep:o,immediate:a})):u(),{cloned:r,sync:u}}const we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce="__vueuse_ssr_handlers__";we[Ce]=we[Ce]||{};var _e;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(_e||(_e={}));var si=Object.defineProperty,Ne=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,ui=Object.prototype.propertyIsEnumerable,Pe=(t,e,r)=>e in t?si(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ci=(t,e)=>{for(var r in e||(e={}))ai.call(e,r)&&Pe(t,r,e[r]);if(Ne)for(var r of Ne(e))ui.call(e,r)&&Pe(t,r,e[r]);return t};const li={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ci({linear:Qn},li);const di=s.defineComponent({__name:"Draggable",props:{disabled:{type:Boolean,default:!1},dragName:null,dropName:null,dropEffect:{default:"move"},list:null,itemKey:{default:"id"}},emits:["update:list"],setup(t,{emit:e}){const r=t,n=Xn(),i=h=>{let c=[];return typeof h=="string"?c=[h,n]:Array.isArray(h)?c=[...h,n]:c=[n],c},o=s.computed(()=>r.dragName||n),a=s.computed(()=>i(r.dropName)),u=s.computed(()=>!r.disabled),l=s.computed(()=>r.dropEffect);s.provide("uuid",n),s.provide("typeName",o),s.provide("acceptName",a),s.provide("canDrag",u),s.provide("dropEffect",l);const d=s.computed({get(){return oi(r.list).cloned.value},set(h){e("update:list",h)}}),p=h=>{l.value==="move"&&!h.isSelf&&d.value.splice(h.index,1)},y=(h,c,m,f)=>{const v=[...d.value];f&&v.splice(c,1),v.splice(m,0,h),d.value=v};return(h,c)=>{const m=Bn;return s.openBlock(),s.createBlock(s.TransitionGroup,{name:"list",tag:"div"},{default:s.withCtx(()=>[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(s.unref(d),(f,v)=>(s.openBlock(),s.createBlock(m,{key:t.itemKey?f[t.itemKey]:f,index:v,data:f,dragEnd:p,dropMove:y},{default:s.withCtx(()=>[s.renderSlot(h.$slots,"item",{data:f,index:v},void 0,!0)]),_:2},1032,["index","data"]))),128))]),_:3})}}});const P=Qe(di,[["__scopeId","data-v-a2c339e0"]]);P.install=t=>{t.component(P.__name,P)};const fi=[P,N],gi=t=>{fi.forEach(e=>{t.component(e.__name,e)})},hi={install:gi};exports.DndProvider=N;exports.default=hi;exports.draggable=P;
//# sourceMappingURL=index.js.map
